<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>O operador "de": Linguagem Formal & Sem√¢ntica L√≥gica</title>
  <meta name="description" content="Mapa interativo dos usos de 'de' (genitivo, origem, autoria, abstra√ß√£o, consequ√™ncia, aplica√ß√£o, medida) com exemplos, nota√ß√£o formal e microanima√ß√µes CSS3." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0c0f14;
      --fg: #e6ecff;
      --muted: #a7b0c0;
      --card: rgba(255,255,255,0.07);
      --card-border: rgba(255,255,255,0.12);
      --accent: #7aa2ff;
      --accent-2: #7fffc3;
      --glow: 0 10px 30px rgba(122,162,255,.35);
      --mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      --sans: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
      --radius: 18px;
      --radius-sm: 12px;
    }
    .light {
      --bg: #f7f9ff;
      --fg: #0b1020;
      --muted: #3a4458;
      --card: rgba(2,6,23,0.04);
      --card-border: rgba(2,6,23,0.08);
      --accent: #3856ff;
      --accent-2: #0bb;
      --glow: 0 10px 30px rgba(56,86,255,.25);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      color: var(--fg);
      background: radial-gradient(1200px 600px at 80% -20%, rgba(122,162,255,.15), transparent 60%),
                  radial-gradient(900px 500px at -10% 10%, rgba(127,255,195,.12), transparent 60%),
                  var(--bg);
      font-family: var(--sans);
      line-height: 1.45;
      overflow-x: hidden;
    }
    .bg-anim {
      position: fixed; inset: -20vmax; z-index: -1; filter: blur(80px); opacity: .35; pointer-events: none;
      background: conic-gradient(from 180deg, #7aa2ff, #7fffc3, #d77dff, #7aa2ff);
      animation: spin 24s linear infinite;
    }
    @keyframes spin { to { transform: rotate(1turn); } }

    header {
      position: relative; padding: 64px 24px 20px; max-width: 1100px; margin: 0 auto;
    }
    .hero {
      border: 1px solid var(--card-border);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: clamp(16px, 3vw, 26px);
      padding: clamp(20px, 3vw, 32px);
      box-shadow: var(--glow);
      overflow: hidden;
      position: relative;
      isolation: isolate;
    }
    .hero:before {
      content: ""; position: absolute; inset: -2px; border-radius: inherit;
      background: linear-gradient(135deg, rgba(122,162,255,.35), rgba(127,255,195,.25) 35%, rgba(215,125,255,.25) 60%, rgba(255,255,255,0) 80%);
      filter: blur(25px); opacity: .4; z-index: -1;
    }
    .eyebrow { font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--accent-2); font-size: .8rem; }
    h1 { margin: 8px 0 10px; font-size: clamp(28px, 4.8vw, 56px); line-height: 1.05; }
    .sub { font-size: clamp(14px, 1.6vw, 18px); color: var(--muted); max-width: 72ch; }

    .controls { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 18px; }
    .btn {
      --b: var(--card-border);
      display: inline-flex; align-items: center; gap: 10px; padding: 10px 14px;
      border-radius: var(--radius-sm); border: 1px solid var(--b);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      color: var(--fg); cursor: pointer; user-select: none; transition: .25s ease;
      backdrop-filter: blur(8px);
    }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 8px 26px rgba(0,0,0,.15); border-color: rgba(122,162,255,.5); }
    .btn[aria-pressed="true"] { outline: 2px solid var(--accent); outline-offset: 2px; }
    .btn .dot { width: 8px; height: 8px; border-radius: 999px; background: var(--accent); box-shadow: 0 0 12px var(--accent); }

    main { max-width: 1100px; margin: 18px auto 80px; padding: 0 24px; }

    .diagram {
      position: relative; margin: 40px 0 22px; min-height: 340px; border-radius: var(--radius);
      border: 1px dashed var(--card-border); overflow: hidden; padding: 26px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    }
    .diagram svg { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
    .node {
      position: absolute; padding: 14px 14px; border-radius: 14px; border: 1px solid var(--card-border);
      background: var(--card); backdrop-filter: blur(6px); box-shadow: var(--glow);
      width: min(280px, 46%);
      transform: translateZ(0);
    }
    .node h3 { margin: 2px 0 6px; font-size: 16px; }
    .node p { margin: 0; color: var(--muted); font-size: 13px; }
    .node code { font-family: var(--mono); font-size: 13px; }
    .node:hover { transform: translateZ(0) scale(1.02); }

    .node.center { left: 50%; top: 50%; transform: translate(-50%, -50%); width: 220px; text-align: center; padding: 18px; }
    .node.center h2 { margin: 6px 0; font-size: 18px; }

    .grid {
      display: grid; gap: 14px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      margin-top: 32px;
    }
    .card {
      border: 1px solid var(--card-border); border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      padding: 18px; position: relative; overflow: hidden; transition: .3s ease;
    }
    .card:hover { transform: translateY(-3px); box-shadow: 0 16px 40px rgba(0,0,0,.18); }
    .card h4 { margin: 0 0 8px; font-size: 15px; letter-spacing: .02em; }
    .meta { color: var(--muted); font-size: 12px; margin-bottom: 10px; }
    .row { display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: start; }
    .code {
      font-family: var(--mono); border: 1px dashed var(--card-border); border-radius: 10px; padding: 10px; background: rgba(0,0,0,.15);
      white-space: nowrap; overflow-x: auto;
    }
    .copy { cursor: pointer; border: 1px solid var(--card-border); padding: 8px 10px; border-radius: 10px; font-size: 12px; }
    .copy.success { border-color: #38d39f; color: #38d39f; }

    table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: var(--radius); }
    thead { position: sticky; top: 0; z-index: 1; }
    th, td { padding: 12px 14px; text-align: left; border-bottom: 1px dashed var(--card-border); }
    thead th { background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06)); font-size: 13px; letter-spacing: .08em; text-transform: uppercase; }
    tbody tr { background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)); }
    tbody tr:hover { background: linear-gradient(180deg, rgba(127,255,195,.08), rgba(255,255,255,0)); }

    footer { max-width: 1100px; margin: 28px auto 80px; padding: 0 24px; color: var(--muted); }

    .reveal { opacity: 0; transform: translateY(18px); transition: .7s cubic-bezier(.2,.7,0,1); }
    .reveal.in { opacity: 1; transform: translateY(0); }

    .badge { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--card-border); background: var(--card); font-size: 12px; }
    .kbd { font-family: var(--mono); padding: 1px 6px; border: 1px solid var(--card-border); border-radius: 6px; background: rgba(255,255,255,.08); }

    /* positions for diagram nodes */
    .pos-gen { left: 6%; top: 10%; }
    .pos-ori { right: 6%; top: 12%; }
    .pos-aut { left: 8%; bottom: 12%; }
    .pos-abs { right: 8%; bottom: 9%; }
    .pos-con { left: 36%; top: 4%; }
    .pos-apl { right: 34%; bottom: 4%; }
    .pos-med { right: 40%; top: 76%; }

    .tiny { font-size: 12px; color: var(--muted); }
  </style>
</head>
<body>
  <div class="bg-anim" aria-hidden="true"></div>

  <header>
    <section class="hero reveal">
      <div class="eyebrow">Linguagem Formal & Sem√¢ntica L√≥gica</div>
      <h1>O operador <span class="badge">"de"</span> como ponte entre l√≠ngua e matem√°tica</h1>
      <p class="sub">Uma vis√£o formal (e visual) dos usos de <em>de</em> em portugu√™s ‚Äî mapeados para rela√ß√µes e operadores can√≥nicos: genitivo, origem, autoria, abstra√ß√£o de conjuntos, consequ√™ncia l√≥gica (‚ä¢), aplica√ß√£o de operadores (d/dx, ‚à´), e medida probabil√≠stica (Pr[¬∑]).</p>
      <div class="controls" role="toolbar" aria-label="Comandos">
        <button class="btn" id="btnTheme"><span class="dot"></span> Alternar tema</button>
        <button class="btn" id="btnReplay">Reproduzir anima√ß√µes</button>
        <button class="btn" id="btnPT" aria-pressed="true">PT</button>
        <button class="btn" id="btnEN" aria-pressed="false">EN</button>
      </div>
      <div class="tiny" style="margin-top:10px;">Dica: carregue <span class="kbd">T</span> para tema, <span class="kbd">R</span> para anima√ß√µes, <span class="kbd">1</span>/<span class="kbd">2</span> para PT/EN.</div>
    </section>
  </header>

  <main>
    <section class="diagram reveal" aria-label="Diagrama de rela√ß√µes">
      <div class="node center">
        <h2>preposi√ß√£o ‚Äúde‚Äù</h2>
        <p class="pt">poliss√©mica; marca rela√ß√£o, origem, autoria, parte, consequ√™ncia‚Ä¶</p>
        <p class="en" hidden>polysemous; marks relation, origin, authorship, partitive, consequence‚Ä¶</p>
      </div>
      <div class="node pos-gen">
        <h3>Genitivo / Posse</h3>
        <p class="pt"><strong>casa de Maria</strong> ‚Üí <code>Possui(casa, Maria)</code></p>
        <p class="en" hidden><strong>Maria's house</strong> ‚Üí <code>Possesses(house, Maria)</code></p>
        <p class="tiny">rela√ß√£o bin√°ria</p>
      </div>
      <div class="node pos-ori">
        <h3>Origem / Proveni√™ncia</h3>
        <p class="pt"><strong>vinho de Portugal</strong> ‚Üí <code>Origem(vinho, Portugal)</code></p>
        <p class="en" hidden><strong>wine from Portugal</strong> ‚Üí <code>Origin(wine, Portugal)</code></p>
        <p class="tiny">ablativo sem√¢ntico</p>
      </div>
      <div class="node pos-aut">
        <h3>Ag√™ncia / Autoria</h3>
        <p class="pt"><strong>livro de Cam√µes</strong> ‚Üí <code>Autor(livro, Cam√µes)</code></p>
        <p class="en" hidden><strong>book by Cam√µes</strong> ‚Üí <code>Author(book, Cam√µes)</code></p>
        <p class="tiny">papel tem√°tico: agente</p>
      </div>
      <div class="node pos-abs">
        <h3>Abstra√ß√£o (Conjuntos)</h3>
        <p class="pt"><strong>conjunto de x tais que œÜ</strong> ‚Üí <code>{x ‚àà U : œÜ(x)}</code></p>
        <p class="en" hidden><strong>set of x such that œÜ</strong> ‚Üí <code>{x ‚àà U : œÜ(x)}</code></p>
        <p class="tiny">compreens√£o de conjuntos</p>
      </div>
      <div class="node pos-con">
        <h3>Consequ√™ncia L√≥gica</h3>
        <p class="pt"><strong>œÜ √© consequ√™ncia de Œì</strong> ‚Üí <code>Œì ‚ä¢ œÜ</code></p>
        <p class="en" hidden><strong>œÜ is a consequence of Œì</strong> ‚Üí <code>Œì ‚ä¢ œÜ</code></p>
        <p class="tiny">turnstile</p>
      </div>
      <div class="node pos-apl">
        <h3>Aplica√ß√£o de Operador</h3>
        <p class="pt"><strong>derivada de f</strong> ‚Üí <code>d/dx ¬∑ f(x)</code></p>
        <p class="en" hidden><strong>derivative of f</strong> ‚Üí <code>d/dx ¬∑ f(x)</code></p>
        <p class="tiny">an√°lise (d/dx, ‚à´)</p>
      </div>
      <div class="node pos-med">
        <h3>Medida / Probabilidade</h3>
        <p class="pt"><strong>probabilidade de A</strong> ‚Üí <code>Pr[A]</code></p>
        <p class="en" hidden><strong>probability of A</strong> ‚Üí <code>Pr[A]</code></p>
        <p class="tiny">medida em Œ©</p>
      </div>
      <!-- animated edges -->
      <svg viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0%" stop-color="#7aa2ff"/>
            <stop offset="100%" stop-color="#7fffc3"/>
          </linearGradient>
        </defs>
        <path d="M50,50 C20,10 15,20 10,18" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C85,15 90,20 92,22" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-.8s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-.8s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C15,85 18,82 12,88" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-1.6s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-1.6s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C85,85 86,88 90,92" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-2.4s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-2.4s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C40,5 45,6 40,2" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-3.2s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-3.2s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C60,95 62,94 64,98" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-4s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-4s" repeatCount="indefinite"/>
        </path>
        <path d="M50,50 C48,80 50,82 50,94" fill="none" stroke="url(#g1)" stroke-width=".6" opacity=".7">
          <animate attributeName="stroke-dasharray" values="0,200;60,200;0,200" dur="6s" begin="-4.8s" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" values="0; -60; 0" dur="6s" begin="-4.8s" repeatCount="indefinite"/>
        </path>
      </svg>
    </section>

    <section class="grid reveal" aria-label="Cart√µes de refer√™ncia">
      <!-- Each card: title, meta, code rows PT/EN with copy buttons -->
      <article class="card">
        <h4>Genitivo / Posse</h4>
        <div class="meta">Relacional bin√°ria (x, y)</div>
        <div class="row">
          <div class="code pt">casa de Maria ‚Üí Possui(casa, Maria)</div>
          <button class="copy" data-text="Possui(casa, Maria)">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">Maria's house ‚Üí Possesses(house, Maria)</div>
          <button class="copy" data-text="Possesses(house, Maria)">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Origem / Proveni√™ncia</h4>
        <div class="meta">Ablativo sem√¢ntico</div>
        <div class="row">
          <div class="code pt">vinho de Portugal ‚Üí Origem(vinho, Portugal)</div>
          <button class="copy" data-text="Origem(vinho, Portugal)">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">wine from Portugal ‚Üí Origin(wine, Portugal)</div>
          <button class="copy" data-text="Origin(wine, Portugal)">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Ag√™ncia / Autoria</h4>
        <div class="meta">Papel tem√°tico: agente</div>
        <div class="row">
          <div class="code pt">livro de Cam√µes ‚Üí Autor(livro, Cam√µes)</div>
          <button class="copy" data-text="Autor(livro, Cam√µes)">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">book by Cam√µes ‚Üí Author(book, Cam√µes)</div>
          <button class="copy" data-text="Author(book, Cam√µes)">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Abstra√ß√£o (Teoria dos Conjuntos)</h4>
        <div class="meta">Compreens√£o: {x ‚àà U : œÜ(x)}</div>
        <div class="row">
          <div class="code pt">conjunto de x tais que œÜ ‚Üí {x ‚àà U : œÜ(x)}</div>
          <button class="copy" data-text="{x ‚àà U : œÜ(x)}">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">set of x such that œÜ ‚Üí {x ‚àà U : œÜ(x)}</div>
          <button class="copy" data-text="{x ‚àà U : œÜ(x)}">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Consequ√™ncia L√≥gica</h4>
        <div class="meta">Turnstile</div>
        <div class="row">
          <div class="code pt">œÜ √© consequ√™ncia de Œì ‚Üí Œì ‚ä¢ œÜ</div>
          <button class="copy" data-text="Œì ‚ä¢ œÜ">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">œÜ is a consequence of Œì ‚Üí Œì ‚ä¢ œÜ</div>
          <button class="copy" data-text="Œì ‚ä¢ œÜ">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Aplica√ß√£o de Operador (An√°lise)</h4>
        <div class="meta">d/dx, ‚à´</div>
        <div class="row">
          <div class="code pt">derivada de f ‚Üí d/dx ¬∑ f(x)</div>
          <button class="copy" data-text="d/dx ¬∑ f(x)">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">derivative of f ‚Üí d/dx ¬∑ f(x)</div>
          <button class="copy" data-text="d/dx ¬∑ f(x)">Copy</button>
        </div>
      </article>

      <article class="card">
        <h4>Medida / Probabilidade</h4>
        <div class="meta">œÉ-√°lgebra (Œ©, ùîΩ, P)</div>
        <div class="row">
          <div class="code pt">probabilidade de A ‚Üí Pr[A]</div>
          <button class="copy" data-text="Pr[A]">Copiar</button>
        </div>
        <div class="row en" hidden>
          <div class="code">probability of A ‚Üí Pr[A]</div>
          <button class="copy" data-text="Pr[A]">Copy</button>
        </div>
      </article>
    </section>

    <section class="reveal" aria-label="Tabela resumida" style="margin-top:30px;">
      <div class="card" style="padding:0; overflow:auto;">
        <table>
          <thead>
            <tr>
              <th>Papel</th>
              <th class="pt">Exemplo (PT)</th>
              <th class="en" hidden>Example (EN)</th>
              <th>Nota√ß√£o formal</th>
              <th>Nome t√©cnico</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Genitivo / Posse</td>
              <td class="pt">casa de Maria</td>
              <td class="en" hidden>Maria's house</td>
              <td><code>Possui(casa, Maria)</code></td>
              <td>rela√ß√£o bin√°ria</td>
            </tr>
            <tr>
              <td>Origem / Proveni√™ncia</td>
              <td class="pt">vinho de Portugal</td>
              <td class="en" hidden>wine from Portugal</td>
              <td><code>Origem(vinho, Portugal)</code></td>
              <td>ablativo sem√¢ntico</td>
            </tr>
            <tr>
              <td>Ag√™ncia / Autoria</td>
              <td class="pt">livro de Cam√µes</td>
              <td class="en" hidden>book by Cam√µes</td>
              <td><code>Autor(livro, Cam√µes)</code></td>
              <td>agente (Œ∏-role)</td>
            </tr>
            <tr>
              <td>Abstra√ß√£o (Conjuntos)</td>
              <td class="pt">conjunto de x tais que œÜ</td>
              <td class="en" hidden>set of x such that œÜ</td>
              <td><code>{x ‚àà U : œÜ(x)}</code></td>
              <td>compreens√£o</td>
            </tr>
            <tr>
              <td>Consequ√™ncia L√≥gica</td>
              <td class="pt">œÜ consequ√™ncia de Œì</td>
              <td class="en" hidden>œÜ consequence of Œì</td>
              <td><code>Œì ‚ä¢ œÜ</code></td>
              <td>turnstile</td>
            </tr>
            <tr>
              <td>Aplica√ß√£o de Operador</td>
              <td class="pt">derivada de f</td>
              <td class="en" hidden>derivative of f</td>
              <td><code>d/dx ¬∑ f(x)</code></td>
              <td>aplica√ß√£o</td>
            </tr>
            <tr>
              <td>Medida / Probabilidade</td>
              <td class="pt">probabilidade de A</td>
              <td class="en" hidden>probability of A</td>
              <td><code>Pr[A]</code></td>
              <td>medida</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="grid reveal" aria-label="Gloss√°rio" style="margin-top:24px;">
      <article class="card">
        <h4>Operadores & s√≠mbolos</h4>
        <p class="tiny">‚ä¢ turnstile ¬∑ ‚àà perten√ßa ¬∑ ‚Üí fun√ß√£o/morfismo ¬∑ d/dx derivada ¬∑ ‚à´ integral ¬∑ Pr[¬∑] probabilidade</p>
      </article>
      <article class="card">
        <h4>Notas sem√¢nticas</h4>
        <p class="pt">‚Äúde‚Äù colapsa genitivo, ablativo, agentivo e partitivo; a escolha formal depende do predicado-alvo.</p>
        <p class="en" hidden>‚Äúde‚Äù collapses genitive, ablative, agentive and partitive; the formal choice depends on the target predicate.</p>
      </article>
      <article class="card">
        <h4>Como usar</h4>
        <p class="pt">Clique em <em>Copiar</em> nas f√≥rmulas, alterne PT/EN ou mude o tema. As sec√ß√µes revelam com scroll.</p>
        <p class="en" hidden">Click <em>Copy</em> on formulas, toggle PT/EN or switch theme. Sections reveal on scroll.</p>
      </article>
    </section>
  </main>

  <footer class="reveal">
    Feito com CSS3/HTML5 ¬∑ Anima√ß√µes leves ¬∑ Sem depend√™ncias (apenas fontes). ¬© 2025
  </footer>

  <script>
    const root = document.documentElement;
    const btnTheme = document.getElementById('btnTheme');
    const btnReplay = document.getElementById('btnReplay');
    const btnPT = document.getElementById('btnPT');
    const btnEN = document.getElementById('btnEN');

    // Theme toggle
    const setTheme = (light) => {
      document.body.classList.toggle('light', !!light);
      try { localStorage.setItem('theme', light ? 'light' : 'dark'); } catch (_) {}
    };
    btnTheme.addEventListener('click', () => setTheme(!document.body.classList.contains('light')));
    (function initTheme(){ try { setTheme(localStorage.getItem('theme') === 'light'); } catch(_){} })();

    // Reveal on scroll
    const io = new IntersectionObserver((entries)=>{
      for (const e of entries) if (e.isIntersecting) e.target.classList.add('in');
    }, { threshold: .12 });
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Copy buttons
    document.querySelectorAll('.copy').forEach(btn => {
      btn.addEventListener('click', async () => {
        const text = btn.dataset.text || btn.previousElementSibling?.textContent?.trim();
        try { await navigator.clipboard.writeText(text); btn.classList.add('success'); setTimeout(()=>btn.classList.remove('success'), 1200); } catch(_){}
      });
    });

    // PT/EN toggle
    function setLang(lang){
      const isPT = lang === 'pt';
      document.querySelectorAll('.pt').forEach(el=>el.hidden = !isPT);
      document.querySelectorAll('.en').forEach(el=>el.hidden = isPT);
      btnPT.setAttribute('aria-pressed', isPT);
      btnEN.setAttribute('aria-pressed', !isPT);
      try { localStorage.setItem('lang', lang); } catch(_){}
    }
    btnPT.addEventListener('click', ()=>setLang('pt'));
    btnEN.addEventListener('click', ()=>setLang('en'));
    (function initLang(){ try { setLang(localStorage.getItem('lang') || 'pt'); } catch(_) { setLang('pt'); } })();

    // Replay animations: re-trigger reveal
    btnReplay.addEventListener('click', ()=>{
      document.querySelectorAll('.reveal').forEach(el=>{ el.classList.remove('in'); void el.offsetWidth; el.classList.add('in'); });
    });

    // Keyboard shortcuts
    window.addEventListener('keydown', (e)=>{
      if(e.key==='T' || e.key==='t') btnTheme.click();
      if(e.key==='R' || e.key==='r') btnReplay.click();
      if(e.key==='1') btnPT.click();
      if(e.key==='2') btnEN.click();
    });
  </script>
</body>
</html>
